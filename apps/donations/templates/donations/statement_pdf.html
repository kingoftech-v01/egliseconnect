<html>
<head>
    <meta charset="utf-8">
    <style>
        body { font-family: sans-serif; font-size: 11px; color: #333; }
        h1 { font-size: 18px; margin-bottom: 5px; }
        h2 { font-size: 14px; margin-top: 20px; }
        .header { border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .church-info { font-size: 10px; color: #666; }
        .member-info { margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 5px 8px; border: 1px solid #ccc; text-align: left; }
        th { background-color: #f5f5f5; font-weight: bold; }
        .total-row { font-weight: bold; background-color: #e8e8e8; }
        .footer { margin-top: 30px; font-size: 9px; color: #666; border-top: 1px solid #ccc; padding-top: 10px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>{{ church_name }}</h1>
        <div class="church-info">
            {% if church_address %}{{ church_address }}<br>{% endif %}
            {% if church_registration %}No d'enregistrement : {{ church_registration }}{% endif %}
        </div>
    </div>

    <h2>Releve de dons - {{ statement.get_period_display }} {{ statement.year }}</h2>

    <div class="member-info">
        <strong>{{ member.full_name }}</strong><br>
        {% if member.full_address %}{{ member.full_address }}{% endif %}
    </div>

    <p>Periode : {{ statement.start_date|date:"d/m/Y" }} au {{ statement.end_date|date:"d/m/Y" }}</p>

    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Numero</th>
                <th>Type</th>
                <th>Mode de paiement</th>
                <th>Montant</th>
            </tr>
        </thead>
        <tbody>
            {% for donation in donations %}
            <tr>
                <td>{{ donation.date|date:"d/m/Y" }}</td>
                <td>{{ donation.donation_number }}</td>
                <td>{{ donation.get_donation_type_display }}</td>
                <td>{{ donation.get_payment_method_display }}</td>
                <td>{{ donation.amount }} $</td>
            </tr>
            {% endfor %}
            <tr class="total-row">
                <td colspan="4">Total</td>
                <td>{{ statement.total_amount }} $</td>
            </tr>
        </tbody>
    </table>

    <div class="footer">
        <p>Ce releve est emis a titre informatif. Pour les fins d'impot, veuillez utiliser votre recu fiscal officiel.</p>
        <p>Genere le {{ statement.generated_at|date:"d/m/Y" }} par {{ church_name }}.</p>
    </div>
</body>
</html>
